{% extends 'cours/base_cours.html.twig' %}
{% set nav = 'notes' %}

{% block cours_content %}
    <!-- Permet d'ajouter une nouvelle note pour un examen -->
    <div class="d-flex justify-content-center mb-3 pt-2">
        <a href="{{ path('ajouter_note', { code: cours.code }) }}" class="btn btn-primary d-flex align-items-center">
            <i class="bi bi-plus-lg me-2"></i> Ajouter une note
        </a>
    </div>

    <h2>Examens du cours</h2>

    <!-- Affiche les statistiques des examens du cours -->
    <table class="table table-striped">
        <thead>
        <tr>
            <th>Nom de l'examen</th>
            <th>Barème</th>
            <th>Moyenne</th>
            <th>Note minimale</th>
            <th>Note maximale</th>
            <th>Actions</th>
        </tr>
        </thead>
        <tbody>
        {% for exam in examStats %}
            <tr>
                <td>{{ exam.nom }}</td>
                <td>{{ exam.bareme }}</td>
                <td>{{ exam.moyenne }}</td>
                <td>{{ exam.min }}</td>
                <td>{{ exam.max }}</td>
                <td>
                    <!-- Supprime un examen -->
                    <button class="btn btn-danger" onclick="supprimerExamen({{ exam.id }})">Supprimer</button>
                    <!-- Permet de modifier un examen -->
                    <a href="{{ path('modifier_page_examen', { id: exam.id }) }}" class="btn btn-warning">Modifier</a>
                </td>
            </tr>
        {% endfor %}
        </tbody>
    </table>

{% endblock %}

{% block cours_scripts %}
    <!-- Inclusion du script gérant les notes des examens -->
    <script src="{{ asset('scripts/note.js') }}"></script>
{% endblock %}
